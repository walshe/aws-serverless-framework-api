

Serverless CRUD API

Example of API Gateway, Cognito, Cognito Api Gateway, Authorizor, Cognito PreSignUp Trigger, Lambdas, DynamoDB

https://101034096726.signin.aws.amazon.com/console

## Requirements

Serverless Framework 3
IAM User with Access Keys + secret installed



## Sign in domain

https://mynotesdomain.auth.eu-west-1.amazoncognito.com/login?response_type=token&client_id=af8en94kkal8ujubqj6920na1&redirect_uri=http://localhost:3000

http://localhost:3000/#
id_token=eyJraWQiOiJVdzRFVlVrc0RWdE4wZktEaDJweGpteWc4aHBDdlJpVkgwdHZtNUZ1MzBnPSIsImFsZyI6IlJTMjU2In0.eyJhdF9oYXNoIjoiMjJobkVkZU5mdVlhbGxmT0JkSEZMQSIsInN1YiI6Ijg4MjFiNjE2LWE2ODAtNDA4ZC04MTdhLWUyN2Q0NzI0NzEyZiIsImF1ZCI6IjZrbG44aTlubzVka3BqdjVyYTZndTBhbmZiIiwiZXZlbnRfaWQiOiIzMDkzYzU5ZS02OTNhLTQyZDgtYThlNi0yZDdiYjQ5MWQ1MDYiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTY4NjY5NTQxOSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfeTVmQ0R6dGdYIiwiY29nbml0bzp1c2VybmFtZSI6ImVtbWV0dHdhbHNoIiwiZXhwIjoxNjg2Njk5MDE5LCJpYXQiOjE2ODY2OTU0MTksImp0aSI6IjM4NTFlZDhjLTc4YWEtNDg1MS1hNTNiLTk1YTJmNzgwZGViMCJ9.dgzX41E0291bkV4cd0h4ASdh5iDz8q-R7AgsH6KSRcVXFxHi-7eJZjwh6m1A1ycl_6uuyyxfs50bbyFNBuSlKLah_GppCTcm8f_Frus6086eJRSEumTSynyH0BjUPPhGNdwz4tmiHcvuvOa6vOTaLQG6gTvOF2n4KkElK_f24nBdopd4xoyRprnG4lV4vUirq8hHSv7Ubo0e5M28DNNSvtzULaEYyrrt9oMofFsDSQe5gCT4tgllejpdQh5D74kjP3TwRKwCffok5XrZOauTqQzJMvFBxQ7z2QWsV-rTl--kcloHYvROI3YSL6CDM1j7IriU4BBK9TtDc7KNZCKiAw
&

access_token=eyJraWQiOiIxQmpWUVA2MU9OZ3ppTEsrXC83cE9TOXB3dnMrM0dnS1NyZ3VzUnJlQThTMD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI4ODIxYjYxNi1hNjgwLTQwOGQtODE3YS1lMjdkNDcyNDcxMmYiLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV95NWZDRHp0Z1giLCJ2ZXJzaW9uIjoyLCJjbGllbnRfaWQiOiI2a2xuOGk5bm81ZGtwanY1cmE2Z3UwYW5mYiIsImV2ZW50X2lkIjoiMzA5M2M1OWUtNjkzYS00MmQ4LWE4ZTYtMmQ3YmI0OTFkNTA2IiwidG9rZW5fdXNlIjoiYWNjZXNzIiwic2NvcGUiOiJwaG9uZSBvcGVuaWQgcHJvZmlsZSBlbWFpbCIsImF1dGhfdGltZSI6MTY4NjY5NTQxOSwiZXhwIjoxNjg2Njk5MDE5LCJpYXQiOjE2ODY2OTU0MTksImp0aSI6IjlkNmQ5MTE5LTNmZmQtNGIzOS1iYWQzLTBlY2U1NDU2NWU4YyIsInVzZXJuYW1lIjoiZW1tZXR0d2Fsc2gifQ.vpxYgTnbJil6fIOPJXn6kCQRCVJ0JN5BgC2R_habxWq4lrzuR7dq1mHWYwPKARirQeAzJGPoyQsjYbXucGV7gTriq_jz-ISj2Gsb-RMNZM7UUzAKRrVTwEMHfiFTqfmnZSPyxiiNgsFXm1f6CUTe-bc9IBZpqVGiNJlyqnu328Ea1ZYZDgTM8Yyz2oW0Nn7KRjKQgAcMz-1bvguQVRFSQ6lA_iPwMUtKEAXhi6eJfPvELV5JmmZddJ_PVChZjkHAG4Byk9fZuXTgnXQS0q9PLyJZ6xuZiOQwuXVBR3g32suoAHs63oMrpNchPHnrcQvYLGNNFGhaWb_EOeZ1dmncAg
&
expires_in=3600&
token_type=Bearer

## Endpoints

curl -X POST https://jpidb11n97.execute-api.eu-west-1.amazonaws.com/dev/notes  -d '{"id": "7","title":"some title", "body" : "somebodyadasdasd"  }'

curl -X PUT https://jpidb11n97.execute-api.eu-west-1.amazonaws.com/dev/notes/7  -d '{"title":"updated title", "body" : "updated body"  }'

curl -X DELETE https://jpidb11n97.execute-api.eu-west-1.amazonaws.com/dev/notes/7

curl -X GET https://7j66b3990j.execute-api.eu-west-1.amazonaws.com/dev/notes -H 'Authorization: Bearer eyJraWQiOiJERWE5TE8ya01pMHRicUNOQmgzTDc5WXJYMExPUEVyN1VuMFhKNk42RXg0PSIsImFsZyI6IlJTMjU2In0.eyJhdF9oYXNoIjoib2lDRGlxNHFyaU5PSEZsYUZUNkNLUSIsInN1YiI6IjM1OGQ1OGMyLTZmZjMtNDA5ZS1iOTA1LTNlMDQ3Njg1ZmEyMSIsImF1ZCI6ImFmOGVuOTRra2FsOHVqdWJxajY5MjBuYTEiLCJldmVudF9pZCI6ImQ1MWVkZDUzLTk5YmUtNDdkNS05MzUzLTUzMWRiZjcwYzk1NSIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjg2NzcxNzI4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV84ZDZGcHFEbEQiLCJjb2duaXRvOnVzZXJuYW1lIjoiZW1tZXR0d2Fsc2giLCJleHAiOjE2ODY3NzUzMjgsImlhdCI6MTY4Njc3MTcyOCwianRpIjoiOTA2ZTk5NzQtNjJjOS00MWI4LWFlMjUtOTI1MzRkOTNiNDM0In0.h5rM2ht-MqoDujKkKucm6otprW1TMKgY8gN-6FDVJRmCNIUOnZunepEep9gExD8qVG96DZaI5hHnJ4o6A1GZmyKbDwM8Cv7XygHCxSfdoiUUKsLVirECkAh5_E-gURn_CgMUMIy-Cx89eE9J-VlXlnwJklZJuU4f6bpbUhg1dxZ-KIF3eFteHAxSogJvA3S5XzvPDJYftXD_JfryCA8eTuCdywRkWmAd7SgWD2wTidfB4VZuZORM6LuAUDaQqix67X-8DyaxqV1g3rwlKwnH44mvlm4TG2eYt35pEe7vkLXedEP3rvlKqIN5XTgWdaktvWTK-p8UqXQTdhzzO5EkJA'



eyJraWQiOiJERWE5TE8ya01pMHRicUNOQmgzTDc5WXJYMExPUEVyN1VuMFhKNk42RXg0PSIsImFsZyI6IlJTMjU2In0.eyJhdF9oYXNoIjoib2lDRGlxNHFyaU5PSEZsYUZUNkNLUSIsInN1YiI6IjM1OGQ1OGMyLTZmZjMtNDA5ZS1iOTA1LTNlMDQ3Njg1ZmEyMSIsImF1ZCI6ImFmOGVuOTRra2FsOHVqdWJxajY5MjBuYTEiLCJldmVudF9pZCI6ImQ1MWVkZDUzLTk5YmUtNDdkNS05MzUzLTUzMWRiZjcwYzk1NSIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjg2NzcxNzI4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV84ZDZGcHFEbEQiLCJjb2duaXRvOnVzZXJuYW1lIjoiZW1tZXR0d2Fsc2giLCJleHAiOjE2ODY3NzUzMjgsImlhdCI6MTY4Njc3MTcyOCwianRpIjoiOTA2ZTk5NzQtNjJjOS00MWI4LWFlMjUtOTI1MzRkOTNiNDM0In0.h5rM2ht-MqoDujKkKucm6otprW1TMKgY8gN-6FDVJRmCNIUOnZunepEep9gExD8qVG96DZaI5hHnJ4o6A1GZmyKbDwM8Cv7XygHCxSfdoiUUKsLVirECkAh5_E-gURn_CgMUMIy-Cx89eE9J-VlXlnwJklZJuU4f6bpbUhg1dxZ-KIF3eFteHAxSogJvA3S5XzvPDJYftXD_JfryCA8eTuCdywRkWmAd7SgWD2wTidfB4VZuZORM6LuAUDaQqix67X-8DyaxqV1g3rwlKwnH44mvlm4TG2eYt35pEe7vkLXedEP3rvlKqIN5XTgWdaktvWTK-p8UqXQTdhzzO5EkJA&access_token=eyJraWQiOiI3azFhY2JsT2cyN0RkelBJTFRSNnROTmVwZkxPb2VMZ2FaQ3BmNTdoSUxBPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiIzNThkNThjMi02ZmYzLTQwOWUtYjkwNS0zZTA0NzY4NWZhMjEiLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV84ZDZGcHFEbEQiLCJ2ZXJzaW9uIjoyLCJjbGllbnRfaWQiOiJhZjhlbjk0a2thbDh1anVicWo2OTIwbmExIiwiZXZlbnRfaWQiOiJkNTFlZGQ1My05OWJlLTQ3ZDUtOTM1My01MzFkYmY3MGM5NTUiLCJ0b2tlbl91c2UiOiJhY2Nlc3MiLCJzY29wZSI6InBob25lIG9wZW5pZCBwcm9maWxlIGVtYWlsIiwiYXV0aF90aW1lIjoxNjg2NzcxNzI4LCJleHAiOjE2ODY3NzUzMjgsImlhdCI6MTY4Njc3MTcyOCwianRpIjoiYmRjMDI4YTEtMjhiZi00ZDdmLWI5YzctMjdmMjA5MzA2NWEyIiwidXNlcm5hbWUiOiJlbW1ldHR3YWxzaCJ9.HMj0u_BfvgWuo9c0z3ejnOj-sHFbZtVj726pFU1udFsWAjpGAILUj5x7jvHbCyNAXDejo_WducVcizKJ70JMe4V9dczXcglriRld_o9qm_dbOq1oSFzV-sG4g7UYfDSIkc6c0YhFuOK0Vnk32dqFniiXeQSIA3eQB0MJDlX5CD4WwdgPouQpljSuQ3czvC5ZAQrhvY47bCJQvWUsMaNfcQUHuDgfpI0YEVSRdHfkW8WY19RqSnuDr4epzKP-_7bHwnKfPUdyGcYCdfmeGmUFTZEfGuLelAMhjSOnq1KS53MJ6IKxE5vBVJCRFI8RJD7UcOuE4XBwF-wB7PpvwbVYrw